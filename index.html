<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Bleach Fanfic Generator</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="assets/style.css">
</head>
<body>
  <h1>Bleach Fanfic Generator</h1>

  <form id="ficForm">
    <label>
      Основные персонажи:
      <select name="relationshipSize">
        <option value="1">1 (соло)</option>
        <option value="2" selected>2 (классика)</option>
        <option value="3">3 (настроение для тройничка)</option>
      </select>
    </label>
    <br>

    <label>
      Тип:
      <select name="type">
        <option value="slash">Слеш</option>
        <option value="femslash">Фемслеш</option>
        <option value="gen">Джен</option>
      </select>
    </label>
    <br>

    <label>
      Второстепенные персонажи (0-5):
      <input type="number" name="sideCount" min="0" max="5" value="2">
    </label>
    <br>

    <label>
      NSFW:
      <input type="checkbox" name="nsfw">
    </label>
    <br>

    <button type="submit">Го</button>
  </form>

  <div id="result"></div>

  <script>
    const characters = [
      {
        "name": "Ичиго Куросаки",
        "gender": "male",
        "image": "https://tiermaker.com/images/chart/chart/bleach-characters-tier-list-63420/ep366ichigocharapicpng"
      },
      {
        "name": "Рукия Кучики",
        "gender": "female",
        "image": "https://tiermaker.com/images/chart/chart/bleach-characters-tier-list-63420/ep364rukiacharapicpng"
      },
      {
        "name": "Ренджи Абараи",
        "gender": "male",
        "image": "https://tiermaker.com/images/chart/chart/bleach-characters-tier-list-63420/ep363renjicharapicpng"
      },
      {
        "name": "Орихиме Иноуэ",
        "gender": "female",
        "image": "https://tiermaker.com/images/chart/chart/bleach-characters-tier-list-63420/ep347orihimecharapic2png"
      },
      {
        "name": "Куроцучи Маюри",
        "gender": "male",
        "image": "https://tiermaker.com/images/chart/chart/bleach-characters-tier-list-63420/ch480pg4mayuricharapicpng"
      },
      {
        "name": "Йоруичи",
        "gender": "female",
        "image": "https://tiermaker.com/images/chart/chart/bleach-characters-tier-list-63420/ep246yoruichicharapicpng"
      },
      {
        "name": "Урахара Киске",
        "gender": "male",
        "image": "https://tiermaker.com/images/chart/chart/bleach-characters-tier-list-63420/ep329uraharacharapicpng"
      },
      {
        "name": "Бьякуя Кучики",
        "gender": "male",
        "image": "https://tiermaker.com/images/chart/chart/bleach-characters-tier-list-63420/ep366byakuyacharapicpng"
      },
      {
        "name": "Сой Фон",
        "gender": "female",
        "image": "https://tiermaker.com/images/chart/chart/bleach-characters-tier-list-63420/cg494pg2suifengcharapicpng"
      },
      {
        "name": "Гриммджо",
        "gender": "male",
        "image": "https://tiermaker.com/images/chart/chart/bleach-characters-tier-list-63420/ep138grimmjowcharapic2png"
      },
      {
        "name": "Улькиорра Шифер",
        "gender": "male",
        "image": "https://tiermaker.com/images/chart/chart/bleach-characters-tier-list-63420/ep267ulquiorracharapicpng"
      },
      {
        "name": "Нелл",
        "gender": "female",
        "image": "https://tiermaker.com/images/chart/chart/bleach-characters-tier-list-63420/ep192nellieladultformpng"
      },
      {
        "name": "Кенпачи Зараки",
        "gender": "male",
        "image": "https://tiermaker.com/images/chart/chart/bleach-characters-tier-list-63420/ch523pg10zarakicharapicpng"
      },
      {
        "name": "Рангику Мацумото",
        "gender": "female",
        "image": "https://tiermaker.com/images/chart/chart/bleach-characters-tier-list-63420/ch497pg5rangikucharapicpng"
      },
      {
        "name": "Айзен Соске",
        "gender": "male",
        "image": "https://tiermaker.com/images/chart/chart/bleach-characters-tier-list-63420/ep279aizencharapicpng"
      }
    ];
    
    const genres = [
        {
            'name': 'Выживание',
            'description': 'Работа сосредоточена на борьбе персонажа или группы персонажей с неблагоприятными обстоятельствами или другими персонажами в попытках выжить.'
        },
        {
            'name':'Character study',
            'description':'Работа исследует отдельно взятого персонажа с существенным упором на глубинное изучение скорее внутренних, чем внешних конфликтов.'
        },
        {
            'name': 'Сказка',
            'description':'Эпическое, преимущественно прозаическое произведение волшебного, героического или бытового характера. Сказку характеризует отсутствие претензий на историчность повествования, нескрываемая вымышленность сюжета.'
        },
        {
            'name':'Крэк',
            'description': 'Работа строится на несуразном, курьезном допущении, персонажах, попадающих в чрезвычайно абсурдные ситуации, или в целом содержит невероятные, неверибельные или попросту смехотворные элементы. Такие работы характеризуются юмористическим тоном и заведомо несерьезным подходом к происходящему.'
        },
        {
            'name':'Психологический ужас',
            'description':'Работа написана в жанре ужасов и создаёт психологическое напряжение за счёт страхов и эмоциональной нестабильности персонажей. Обычно играет на чувстве неизвестности, создающемся за счёт опасностей, встречающихся на пути персонажа.'
        },
        {
            'name':'Научная фантастика',
            'description':'Работа основывается на фантастических допущениях в области науки, включая как точные, так и естественные, и гуманитарные науки.'
        },
        {
            'name':'Дорожное приключение',
            'description':'Работа сосредоточена на событиях, которые происходят с персонажами в поездке из одного пункта назначения в другой.'
        },
        {
            'name':'Космоопера',
            'description':'Действие происходит в космическом пространстве и/или на других планетах в условном антураже при умышленном отказе от научного обоснования происходящего в пользу колоритности и масштабности.'
        },
        {
            'name':'Киберпанк',
            'description':'Действие разворачивается в мире, где человеческая культура приходит в упадок на фоне технологического прогресса в компьютерную эпоху.'
        },
        {
            'name':'Трагикомедия',
            'description':'Драматическая работа, сочетающая в себе черты трагедии и комедии.'
        },
        {
            'name':'Ситком',
            'description' :'Работа юмористического характера, сосредоточенная на эпизодах из жизни группы персонажей, связанных дружескими и/или романтическими отношениями.'
        },
        {
            'name': 'Нуар',
            'description': 'Работа характеризуется общей мрачной атмосферой в стилистике середины 40-х Америки, криминальной или детективной составляющей и серой моралью.'
        },
        {
            'name': 'Притча',
            'description': 'Короткий назидательный рассказ в иносказательной форме, заключающий в себе нравственное поучение (мораль).'
        },
        {
            'name': 'Вестерн',
            'description' : 'Действие работы происходит в антураже американского Дикого Запада второй половины XIX века и сосредоточено на столкновении примитивного и устаревшего уклада с новаторским способом жизни. Часто адаптируется к историческим и вымышленным обстоятельствам других сеттингов.'
        },
        {
            'name': 'Советпанк',
            'description': 'Действие разворачивается в ретрофутуристическом мире, где особое внимание уделяется антуражу советской эпохи и ее культурно-техническому наследию.'
        }
    ];

    const settings = [
        'Крыша школы в Каракуре',
        'Библиотека Общества Душ',
        'Тренировочная база Урахары',
        'Край Уэко Мундо на закате',
        'Уединённая тренировочная площадка',
        'Казармы 11-го отряда',
        'Тронный зал Яхве',
        'Лечебные палаты 4-го отряда',
        'Святилище занпакто',
        'Миссия в мире людей',
        'Выпускной Академии Шинигами',
        'Дворец Короля Душ',
        'Магазин Урахары',
        'Лаборатория Маюри Куроцучи',
        'Горячие источники Нулевого отряда'
    ];
    
   const kinks = [
        {
            'name'        : 'BDSM',
            'description' : 'В работе описывается субкультура, основанная на практике добровольного эротического обмена властью (включающего, но не ограниченного: бондажом, дисциплиной, подчинением и доминированием, садомазохизмом и др.), и/или персонажи, практикующие такой обмен. Может быть как самодостаточной практикой, не связанной непосредственно с половым контактом, так и являться частью сексуальных действий.'
        },
        {
            'name'        : 'Секс с использованием посторонних предметов',
            'description' : 'В работе описывается сексуальная практика, подразумевающая использование персонажами предметов, очевидно не предназначенных для удовлетворения эротических и сексуальных потребностей, для получения и/или доставления сексуального удовольствия.'
        },
        {
            'name'        : 'Минет',
            'description' : 'В работе описывается сексуальная практика, при которой половой член возбуждается ртом, языком, зубами или горлом принимающего партнёра.'
        },
        {
            'name'        : 'Лингвистический кинк',
            'description' : 'В работе описываются персонажи, которые испытывают сексуальное возбуждение от партнеров, говорящих на другом языке.'
        },
                {
            'name'        : 'Потеря девственности',
            'description' : 'В работе существенное внимание уделяется потере девственности.'
        },
                {
            'name'        : 'Мастурбация',
            'description' : 'В работе описывается сексуальная практика, в которой персонаж стимулирует собственные гениталии или эрогенные зоны.'
        },
        {
            'name'        : 'Контроль / Подчинение',
            'description' : 'В работе описываются романтические и/или сексуальные отношения, в которых партнеры выполняют добровольно взятые на себя роли: один исполняет роль контролирующего, а другой — роль подчиняющегося.'
        },
        
        {
            'name'        : 'Дэдди-кинк',
            'description' : 'Работа сосредоточена на ролевых романтических или сексуальных отношениях между достигшими возраста согласия персонажами, в которых один исполняет символическую ?отцовскую? роль относительно другого.'
        },
        
        {
            'name'        : 'Асфиксия',
            'description' : 'В работе описываются персонажи, практикующие разные формы нелетального удушения для усиления сексуального возбуждения и разрядки.'
        },
        
        {
            'name'        : 'Сайз-кинк',
            'description' : 'Работа сосредоточена на персонаже или персонажах, испытывающих сексуальное влечение к партнерам, чье телосложение существенно уступает или превосходит их собственное весом, ростом или мускулатурой, либо к партнерам с частями тела, существенно уступающими или превосходящими их собственные в размерах.'
        },
        
        {
            'name'        : 'Петтинг',
            'description' : 'В работе описывается форма сексуальной активности, предполагающая получение удовлетворения партнёров путём возбуждения эрогенных зон без непосредственного контакта гениталий.'
        },
        {
            'name'        : 'Кинк на нижнее белье',
            'description' : 'В работе описывается один или несколько фетишей, подразумевающих взаимодействие с или ношение нижнего белья, зачастую эротического, кружевного или женского.'
        },
        {
            'name'        : 'Секстинг',
            'description' : 'В работе описывается разновидность виртуального секса, которая заключается в обмене эротического характера личными фотографиями, текстовыми или голосовыми сообщениями и т.д.'
        },
        {
            'name'        : 'Неловкий секс',
            'description' : 'В работе описываются сексуальные акты, характеризующиеся неидеальностью, смешными или неловкими моментами и т.д.'
        },

        {
            'name'        : 'Окулолинктус',
            'description' : 'В работе описывается эротическая практика, в которой один партнер языком ласкает глаз другого.'
        }
    ];
    
    const situations = [
        'Вынужденно оказываются рядом после атаки пустого',
        'Нужно притвориться парой на миссии',
        'Один из них тяжело ранен, второй заботится',
        'Меняются телами',
        'Совместный патруль на неделю',
        'Жаркий поединок',
        'Признание в чувствах посреди боя',
        'Застряли во временной петле',
        'Делят одну кровать',
        'Один случайно заходит в ванную, пока другой моется',
        'Напиваются и начинают делиться секретами',
        'Один чуть не погибает, другой впадает в панику',
        'Недоразумение приводит к драматичной ссоре',
        'Обьединяются перед общим врагом',
        'Собеседование'
    ];

    const tropes = [
        {
            'name'        : 'AU: Школа',
            'description' : 'Описываемые в работе персонажи являются школьниками, независимо от канонического возраста персонажей, а основное действие разворачивается в школьном сеттинге.'
        },
        {
            'name'        : 'AU: Без магии',
            'description' : 'Работа написана по канону, для которого характерно существование магии или те, кто ее использует, но в самой работе магия отсутствует.'
        },
        {
            'name'        : 'Политические интриги',
            'description' : 'Сюжет работы сосредоточен на политических интригах.'
        },
        {
            'name'        : 'Раздвоение личности',
            'description' : 'В работе описываются персонажи, поведение и характер которых производят впечатление, что в одном теле существует несколько выраженных личностей, зачастую полных противоположностей, чаще всего вследствие фантастических или мистических причин..'
        },
        {
            'name'        : 'Временные петли',
            'description' : 'Сюжет работы сосредоточен на персонаже или персонажах, которые повторно проживают один и тот же отрезок времени, каждый раз возвращаясь к его началу.'
        },
        {
            'name'        : 'Гендерная интрига',
            'description' : 'Сюжет работы сосредоточен на персонажах, которые по тем или иным причинам скрывают свою половую принадлежность, но не стремятся менять ее.'
        },
        {
            'name'        : 'Совместная кровать',
            'description' : 'В работе существенное внимание уделяется персонажам, которые разделяют спальное место друг с другом. Может происходить как случайно или вынужденно, так и добровольно; может носить как романтический, так и платонический характер.'
        },
        {
            'name'        : 'Соулмейты',
            'description' : 'Действие работы происходит в мире, где персонажи распределены так, что у каждого есть вторая половинка.'
        },
        {
            'name'        : 'AU: Альтернативные способности',
            'description' : 'Работа строится на сюжетном тропе, в котором силы/способности персонажей отличаются от канонических.'
        },
        {
            'name'        : 'AU: Race swap',
            'description' : 'Работа строится на сюжетном тропе, в котором персонажи меняют заданную им в каноне расу на другую.'
        },
        {
            'name'        : 'Омегаверс',
            'description' : 'Действие происходит в мире омегаверса.'
        },
        {
            'name'        : 'Кабэ-дон',
            'description' : 'В работе описывается ситуация, в которой один персонаж силой прижимает другого к стене, пытаясь создать неловкое, сексуальное и/или пугающее положение.'
        },
        {
            'name'        : 'Abuse/Comfort',
            'description' : 'Разновидность Hurt/Comfort, в которой hurt является абьюзивными отношениями, а comfort достигается через помощь по выходу из них и в восстановлении после.'
        },
        {
            'name'        : 'Проблемы с законом',
            'description' : 'В работе значительную роль играют персонажи, совершившие правонарушения и/или преступления.'
        },
        {
            'name'        : 'Спасение мира',
            'description' : 'В работе значительную роль играет спасение мира.'
        }
    ];
    
    const ficKeywords = [
      "осень", "пуговица", "зверь", "ветер", "воспоминание", "дым", "туман", "письмо", "ключ", "пепел",
      "глаз", "сон", "шаг", "лист", "луна", "камень", "окно", "воск", "весна", "шепот",
      "дверь", "свеча", "грусть", "тень", "мрак", "пыль", "золото", "узор", "вода", "покой",
      "молния", "время", "песок", "голос", "мост", "рыцарь", "зеркало", "капля", "след", "песнь",
      "мелодия", "цвет", "шторм", "поле", "маска", "волна", "стекло", "тишина", "мрак", "ткань",
      "обрыв", "вьюга", "лес", "птица", "кровь", "звезда", "шрам", "облако", "страх", "мел",
      "пыльца", "цепь", "грань", "гора", "зов", "тайна", "простор", "ворон", "глина", "хрусталь",
      "боль", "жажда", "поток", "мелочь", "отзвук", "капкан", "ожерелье", "бархат", "шаги", "звук",
      "луч", "дымка", "вихрь", "кусок", "лестница", "шар", "запах", "стук", "трещина", "роса",
      "каменюка", "ветка", "костёр", "нож", "снег", "уголь", "ключик", "клык", "тропа", "шип",
      "рукав", "капюшон", "слеза", "рисунок", "огонь", "свет", "поезд", "караван", "струна", "карта",
      "голова", "сердце", "забор", "звено", "чаша", "грим", "меч", "буква", "паук", "аромат",
      "мечта", "обрывок", "осколок", "руна", "порог", "печать", "ветка", "сетка", "губка", "нитка",
      "ворота", "запись", "объятие", "соната", "морось", "мантия", "искра", "брод", "узел", "исход",
      "шарик", "гранит", "обман", "восклицание", "мурашки", "кокон", "кристалл", "перо", "камзол", "тайник"
    ];

    function getRandom(arr, count = 1) {
      const copy = [...arr];
      const picks = [];
      while (count-- && copy.length) {
        const i = Math.floor(Math.random() * copy.length);
        picks.push(copy.splice(i, 1)[0]);
      }
      return picks;
    }
  
    function getEmoji() {
      const emojis = ['❤️', '✨', '⚔️', '❄️', '🔥', '⚡️', '☠️', '🍓', '🌙', '💀', '🩸', '🌸', '🕊️', '🧨', '🔮'];
      return emojis[Math.floor(Math.random() * emojis.length)];
    }
  
    document.getElementById('ficForm').addEventListener('submit', function (e) {
      e.preventDefault();
      const form = new FormData(e.target);
  
      const data = {
        relationshipSize: parseInt(form.get('relationshipSize')) || 1,
        type: form.get('type') || 'gen',
        sideCount: parseInt(form.get('sideCount')) || 0,
        nsfw: form.get('nsfw') === 'on'
      };
  
      let genderFilter = () => true;
      if (data.type === 'slash') genderFilter = c => c.gender === 'male';
      if (data.type === 'femslash') genderFilter = c => c.gender === 'female';
  
      const filteredChars = characters.filter(genderFilter);
      const mainRelationship = getRandom(filteredChars, data.relationshipSize);
  
      const usedNames = new Set(mainRelationship.map(c => c.name));
      const remainingChars = characters.filter(c => !usedNames.has(c.name));
      const sideCharacters = getRandom(remainingChars, data.sideCount);
  
      const genre = getRandom(genres)[0];
      const setting = getRandom(settings)[0];
      const situation = getRandom(situations)[0];
      const trope = getRandom(tropes)[0];
      const kink = data.nsfw ? getRandom(kinks)[0] : null;
      const keywords = getRandom(ficKeywords, 3);
  
      const resultDiv = document.getElementById('result');
      resultDiv.innerHTML = `
        <h3>Основные персонажи</h3>
        <div class="relationship">
          ${mainRelationship.map(c => `
            <div class="char">
              <img src="${c.image}" alt="${c.name}" class="char-icon">
              <p>${c.name}</p>
            </div>
          `).join(`<span>${getEmoji()}</span>`)}
        </div>
  
        <h3>Жанр</h3>
        <p class='name-highlight'>${genre.name}</p>
        <p>${genre.description}</p>
  
        <h3>Сеттинг</h3>
        <p class='name-highlight'>${setting}</p>
  
        <h3>Ситуация</h3>
        <p class='name-highlight'>${situation}</p>
  
        <h3>Троп</h3>
        <p class='name-highlight'>${trope.name}</p>
        <p>${trope.description}</p>
  
        <h3>Ключевые слова</h3>
        <p class='name-highlight'>${keywords.join(', ')}</p>
  
        ${kink ? `
          <h3>NSFW</h3>
          <p class='name-highlight'>${kink.name}</p>
          <p>${kink.description}</p>
        ` : ''}
  
        ${sideCharacters.length > 0 ? `
          <h3>Второстепенные персонажи</h3>
            <div class="side-chars">
              ${sideCharacters.map(c => `
                <div class="char">
                  <img src="${c.image}" alt="${c.name}" class="char-icon">
                  <p>${c.name}</p>
                </div>
              `).join('')}
            </div>
        ` : ''}
      `;
    });
  </script>
</body>
</html>
